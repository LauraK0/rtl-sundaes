{"ast":null,"code":"var _jsxFileName = \"/Users/laurakeating/code/training/udemy-TESTING-LIBRARY/finished-projects/sundaes-on-demand/src/pages/confirmation/OrderConfirmation.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\nimport { useOrderDetails } from \"../../contexts/OrderDetails\";\nimport AlertBanner from \"../common/AlertBanner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function OrderConfirmation(_ref) {\n  _s();\n\n  let {\n    setOrderPhase\n  } = _ref;\n  const {\n    resetOrder\n  } = useOrderDetails();\n  const [orderNumber, setOrderNumber] = useState(null);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    axios // in a real app we would get order details from context\n    // and send with POST\n    .post(`http://localhost:3030/order`).then(response => {\n      setOrderNumber(response.data.orderNumber);\n    }).catch(error => setError(true));\n  }, []);\n\n  function handleClick() {\n    // clear the order details\n    resetOrder(); // send back to order page\n\n    setOrderPhase(\"inProgress\");\n  }\n\n  const newOrderButton = /*#__PURE__*/_jsxDEV(Button, {\n    onClick: handleClick,\n    children: \"Create new order\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(AlertBanner, {\n        message: null,\n        variant: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), newOrderButton]\n    }, void 0, true);\n  }\n\n  if (orderNumber) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Thank You!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your order number is \", orderNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"25%\"\n        },\n        children: \"as per our terms and conditions, nothing will happen now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), newOrderButton]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n}\n\n_s(OrderConfirmation, \"d48sRTQgSi2Uyg4S9by+qpCVXPc=\", false, function () {\n  return [useOrderDetails];\n});\n\n_c = OrderConfirmation;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderConfirmation\");","map":{"version":3,"names":["React","useEffect","useState","axios","Button","useOrderDetails","AlertBanner","OrderConfirmation","setOrderPhase","resetOrder","orderNumber","setOrderNumber","error","setError","post","then","response","data","catch","handleClick","newOrderButton","textAlign","fontSize"],"sources":["/Users/laurakeating/code/training/udemy-TESTING-LIBRARY/finished-projects/sundaes-on-demand/src/pages/confirmation/OrderConfirmation.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"react-bootstrap/Button\";\nimport { useOrderDetails } from \"../../contexts/OrderDetails\";\nimport AlertBanner from \"../common/AlertBanner\";\n\nexport default function OrderConfirmation({ setOrderPhase }) {\n  const { resetOrder } = useOrderDetails();\n  const [orderNumber, setOrderNumber] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    axios\n      // in a real app we would get order details from context\n      // and send with POST\n      .post(`http://localhost:3030/order`)\n      .then((response) => {\n        setOrderNumber(response.data.orderNumber);\n      })\n      .catch((error) => setError(true));\n  }, []);\n\n  function handleClick() {\n    // clear the order details\n    resetOrder();\n\n    // send back to order page\n    setOrderPhase(\"inProgress\");\n  }\n\n  const newOrderButton = (\n    <Button onClick={handleClick}>Create new order</Button>\n  );\n\n  if (error) {\n    return (\n      <>\n        <AlertBanner message={null} variant={null} />\n        {newOrderButton}\n      </>\n    );\n  }\n\n  if (orderNumber) {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <h1>Thank You!</h1>\n        <p>Your order number is {orderNumber}</p>\n        <p style={{ fontSize: \"25%\" }}>\n          as per our terms and conditions, nothing will happen now\n        </p>\n        {newOrderButton}\n      </div>\n    );\n  } else {\n    return <div>Loading</div>;\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;;;AAEA,eAAe,SAASC,iBAAT,OAA8C;EAAA;;EAAA,IAAnB;IAAEC;EAAF,CAAmB;EAC3D,MAAM;IAAEC;EAAF,IAAiBJ,eAAe,EAAtC;EACA,MAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,IAAD,CAA9C;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC;EAEAD,SAAS,CAAC,MAAM;IACdE,KAAK,CACH;IACA;IAFG,CAGFW,IAHH,CAGS,6BAHT,EAIGC,IAJH,CAISC,QAAD,IAAc;MAClBL,cAAc,CAACK,QAAQ,CAACC,IAAT,CAAcP,WAAf,CAAd;IACD,CANH,EAOGQ,KAPH,CAOUN,KAAD,IAAWC,QAAQ,CAAC,IAAD,CAP5B;EAQD,CATQ,EASN,EATM,CAAT;;EAWA,SAASM,WAAT,GAAuB;IACrB;IACAV,UAAU,GAFW,CAIrB;;IACAD,aAAa,CAAC,YAAD,CAAb;EACD;;EAED,MAAMY,cAAc,gBAClB,QAAC,MAAD;IAAQ,OAAO,EAAED,WAAjB;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;;EAIA,IAAIP,KAAJ,EAAW;IACT,oBACE;MAAA,wBACE,QAAC,WAAD;QAAa,OAAO,EAAE,IAAtB;QAA4B,OAAO,EAAE;MAArC;QAAA;QAAA;QAAA;MAAA,QADF,EAEGQ,cAFH;IAAA,gBADF;EAMD;;EAED,IAAIV,WAAJ,EAAiB;IACf,oBACE;MAAK,KAAK,EAAE;QAAEW,SAAS,EAAE;MAAb,CAAZ;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,oCAAyBX,WAAzB;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAG,KAAK,EAAE;UAAEY,QAAQ,EAAE;QAAZ,CAAV;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,EAMGF,cANH;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAUD,CAXD,MAWO;IACL,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;AACF;;GAnDuBb,iB;UACCF,e;;;KADDE,iB"},"metadata":{},"sourceType":"module"}